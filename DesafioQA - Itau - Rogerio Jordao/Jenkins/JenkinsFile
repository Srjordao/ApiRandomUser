pipeline {
    agent any
    
    stages {
        stage('Checkout') {
            steps {
                // Check out your source code repository
                git 'https://github.com/Srjordao/DesafioQA---Itau---Rogerio-Jordao.git'
            }
        }
        
        stage('Install dependencies') {
            steps {
                // Install necessary dependencies
                sh 'pip install -r requirements.txt' // Assuming your dependencies are listed in requirements.txt
                sh 'pip install robotframework-faker robotframework-pabot robotframework-jsonlibrary robotframework-jsonschemalibrary robotframework-jsonvalidator robotframework-metrics robotframework-requests robotframework-xvfb robotframework-pythonlibcore allure-robotframework pyYAML'
            }
        }
        
        stage('Run tests') {
            steps {
                // Execute your Robot Framework tests
                sh 'robot -d results tests/' // Assuming your tests are in a directory named 'tests'
            }
            
            post {
                always {
                    // Archive test results
                    junit 'results/*.xml' // Assuming your Robot Framework test output is in JUnit XML format
                }
            }
        }
    }
}
