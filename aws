*** Settings ***
Library    AWSLibrary
Library    Collections

*** Variables ***
${ROLE_ARN}          arn:aws:iam::123456789012:role/YourRoleName  # Substitua com o ARN da sua role
${ROLE_SESSION_NAME} MyDynamoDBSession

*** Test Cases ***
Access DynamoDB Using IAM Role
    [Setup]    Assume Role and Create DynamoDB Session
    List DynamoDB Tables
    [Teardown]    Delete Session

*** Keywords ***
Assume Role and Create DynamoDB Session
    ${credentials}=    Assume Role    ${ROLE_ARN}    ${ROLE_SESSION_NAME}
    Create Session    dynamo_session    ${credentials['AccessKeyId']}    ${credentials['SecretAccessKey']}    ${credentials['SessionToken']}    region=us-west-2

Assume Role
    [Arguments]    ${role_arn}    ${session_name}
    ${assume_role_response}=    AWSLibrary.Assume Role    ${role_arn}    ${session_name}
    ${credentials}=    Get From Dictionary    ${assume_role_response}    Credentials
    [Return]    ${credentials}

List DynamoDB Tables
    ${tables}=    AWSLibrary.List Tables    dynamo_session
    Log    ${tables}

Delete Session
    Delete Session    dynamo_session